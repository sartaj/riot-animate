{"version":3,"file":"simple-dom.js","sources":["../lib/simple-dom/document/node.js","../lib/simple-dom/document/element.js","../lib/simple-dom/document/document-fragment.js","../lib/simple-dom/document/text.js","../lib/simple-dom/document/comment.js","../lib/simple-dom/document/raw-html-section.js","../lib/simple-dom/document.js","../lib/simple-dom/html-parser.js","../lib/simple-dom/html-serializer.js","../lib/simple-dom/void-map.js"],"sourcesContent":["function Node(nodeType, nodeName, nodeValue) {\n  this.nodeType = nodeType;\n  this.nodeName = nodeName;\n  this.nodeValue = nodeValue;\n\n  this.childNodes = new ChildNodes(this);\n\n  this.parentNode = null;\n  this.previousSibling = null;\n  this.nextSibling = null;\n  this.firstChild = null;\n  this.lastChild = null;\n}\n\nNode.prototype._cloneNode = function() {\n  return new Node(this.nodeType, this.nodeName, this.nodeValue);\n};\n\nNode.prototype.cloneNode = function(deep) {\n  var node = this._cloneNode();\n\n  if (deep) {\n    var child = this.firstChild, nextChild = child;\n\n    while (nextChild) {\n      nextChild = child.nextSibling;\n      node.appendChild(child.cloneNode(true));\n      child = nextChild;\n    }\n  }\n\n  return node;\n};\n\nNode.prototype.appendChild = function(node) {\n  if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n    insertFragment(node, this, this.lastChild, null);\n    return node;\n  }\n\n  if (node.parentNode) { node.parentNode.removeChild(node); }\n\n  node.parentNode = this;\n  var refNode = this.lastChild;\n  if (refNode === null) {\n    this.firstChild = node;\n    this.lastChild = node;\n  } else {\n    node.previousSibling = refNode;\n    refNode.nextSibling = node;\n    this.lastChild = node;\n  }\n\n  return node;\n};\n\nfunction insertFragment(fragment, newParent, before, after) {\n  if (!fragment.firstChild) { return; }\n\n  var firstChild = fragment.firstChild;\n  var lastChild = firstChild;\n  var node = firstChild;\n\n  firstChild.previousSibling = before;\n  if (before) {\n    before.nextSibling = firstChild;\n  } else {\n    newParent.firstChild = firstChild;\n  }\n\n  while (node) {\n    node.parentNode = newParent;\n    lastChild = node;\n    node = node.nextSibling;\n  }\n\n  lastChild.nextSibling = after;\n  if (after) {\n    after.previousSibling = lastChild;\n  } else {\n    newParent.lastChild = lastChild;\n  }\n}\n\nNode.prototype.insertBefore = function(node, refNode) {\n  if (refNode == null) {\n    return this.appendChild(node);\n  }\n\n  if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n    insertFragment(node, this, refNode ? refNode.previousSibling : null, refNode);\n    return;\n  }\n\n  if (node.parentNode) { node.parentNode.removeChild(node); }\n\n  node.parentNode = this;\n\n  var previousSibling = refNode.previousSibling;\n  if (previousSibling) {\n    previousSibling.nextSibling = node;\n    node.previousSibling = previousSibling;\n  } else {\n    node.previousSibling = null;\n  }\n\n  refNode.previousSibling = node;\n  node.nextSibling = refNode;\n\n  if (this.firstChild === refNode) {\n    this.firstChild = node;\n  }\n};\n\nNode.prototype.removeChild = function(refNode) {\n  if (this.firstChild === refNode) {\n    this.firstChild = refNode.nextSibling;\n  }\n  if (this.lastChild === refNode) {\n    this.lastChild = refNode.previousSibling;\n  }\n  if (refNode.previousSibling) {\n    refNode.previousSibling.nextSibling = refNode.nextSibling;\n  }\n  if (refNode.nextSibling) {\n    refNode.nextSibling.previousSibling = refNode.previousSibling;\n  }\n  refNode.parentNode = null;\n  refNode.nextSibling = null;\n  refNode.previousSibling = null;\n};\n\nNode.ELEMENT_NODE = 1;\nNode.ATTRIBUTE_NODE = 2;\nNode.TEXT_NODE = 3;\nNode.CDATA_SECTION_NODE = 4;\nNode.ENTITY_REFERENCE_NODE = 5;\nNode.ENTITY_NODE = 6;\nNode.PROCESSING_INSTRUCTION_NODE = 7;\nNode.COMMENT_NODE = 8;\nNode.DOCUMENT_NODE = 9;\nNode.DOCUMENT_TYPE_NODE = 10;\nNode.DOCUMENT_FRAGMENT_NODE = 11;\nNode.NOTATION_NODE = 12;\n\nfunction ChildNodes(node) {\n  this.node = node;\n}\n\nChildNodes.prototype.item = function(index) {\n  var child = this.node.firstChild;\n\n  for (var i = 0; child && index !== i; i++) {\n    child = child.nextSibling;\n  }\n\n  return child;\n};\n\nexport default Node;\n","import Node from './node';\n\nfunction Element(tagName) {\n  tagName = tagName.toUpperCase();\n\n  this.nodeConstructor(1, tagName, null);\n  this.attributes = [];\n  this.tagName = tagName;\n}\n\nElement.prototype = Object.create(Node.prototype);\nElement.prototype.constructor = Element;\nElement.prototype.nodeConstructor = Node;\n\nElement.prototype._cloneNode = function() {\n  var node = new Element(this.tagName);\n\n  node.attributes = this.attributes.map(function(attr) {\n    return { name: attr.name, value: attr.value, specified: attr.specified };\n  });\n\n  return node;\n};\n\nElement.prototype.getAttribute = function(_name) {\n  var attributes = this.attributes;\n  var name = _name.toLowerCase();\n  var attr;\n  for (var i=0, l=attributes.length; i<l; i++) {\n    attr = attributes[i];\n    if (attr.name === name) {\n      return attr.value;\n    }\n  }\n  return '';\n};\n\nElement.prototype.setAttribute = function(_name, _value) {\n  var attributes = this.attributes;\n  var name = _name.toLowerCase();\n  var value;\n  if (typeof _value === 'string') {\n    value = _value;\n  } else {\n    value = '' + _value;\n  }\n  var attr;\n  for (var i=0, l=attributes.length; i<l; i++) {\n    attr = attributes[i];\n    if (attr.name === name) {\n      attr.value = value;\n      return;\n    }\n  }\n  attributes.push({\n    name: name,\n    value: value,\n    specified: true // serializer compat with old IE\n  });\n};\n\nElement.prototype.removeAttribute = function(name) {\n  var attributes = this.attributes;\n  for (var i=0, l=attributes.length; i<l; i++) {\n    var attr = attributes[i];\n    if (attr.name === name) {\n      attributes.splice(i, 1);\n      return;\n    }\n  }\n};\n\nexport default Element;\n","import Node from './node';\n\nfunction DocumentFragment() {\n  this.nodeConstructor(11, '#document-fragment', null);\n}\n\nDocumentFragment.prototype._cloneNode = function() {\n  return new DocumentFragment();\n};\n\nDocumentFragment.prototype = Object.create(Node.prototype);\nDocumentFragment.prototype.constructor = DocumentFragment;\nDocumentFragment.prototype.nodeConstructor = Node;\n\nexport default DocumentFragment;\n","import Node from './node';\n\nfunction Text(text) {\n  this.nodeConstructor(3, '#text', text);\n}\n\nText.prototype._cloneNode = function() {\n  return new Text(this.nodeValue);\n};\n\nText.prototype = Object.create(Node.prototype);\nText.prototype.constructor = Text;\nText.prototype.nodeConstructor = Node;\n\nexport default Text;\n","import Node from './node';\n\nfunction Comment(text) {\n  this.nodeConstructor(8, '#comment', text);\n}\n\nComment.prototype._cloneNode = function() {\n  return new Comment(this.nodeValue);\n};\n\nComment.prototype = Object.create(Node.prototype);\nComment.prototype.constructor = Comment;\nComment.prototype.nodeConstructor = Node;\n\nexport default Comment;\n","import Node from './node';\n\nfunction RawHTMLSection(text) {\n  this.nodeConstructor(-1, \"#raw-html-section\", text);\n}\n\nRawHTMLSection.prototype = Object.create(Node.prototype);\nRawHTMLSection.prototype.constructor = RawHTMLSection;\nRawHTMLSection.prototype.nodeConstructor = Node;\n\nexport default RawHTMLSection;\n","import Node from './document/node';\nimport Element from './document/element';\nimport Text from './document/text';\nimport Comment from './document/comment';\nimport RawHTMLSection from './document/raw-html-section';\nimport DocumentFragment from './document/document-fragment';\n\nfunction Document() {\n  this.nodeConstructor(9, '#document', null);\n  this.documentElement = new Element('html');\n  this.head = new Element('head');\n  this.body = new Element('body');\n  this.documentElement.appendChild(this.head);\n  this.documentElement.appendChild(this.body);\n  this.appendChild(this.documentElement);\n}\n\nDocument.prototype = Object.create(Node.prototype);\nDocument.prototype.constructor = Document;\nDocument.prototype.nodeConstructor = Node;\n\nDocument.prototype.createElement = function(tagName) {\n  return new Element(tagName);\n};\n\nDocument.prototype.createTextNode = function(text) {\n  return new Text(text);\n};\n\nDocument.prototype.createComment = function(text) {\n  return new Comment(text);\n};\n\nDocument.prototype.createRawHTMLSection = function(text) {\n  return new RawHTMLSection(text);\n};\n\nDocument.prototype.createDocumentFragment = function() {\n  return new DocumentFragment();\n};\n\nexport default Document;\n","function HTMLParser(tokenize, document, voidMap) {\n  this.tokenize = tokenize;\n  this.document = document;\n  this.voidMap = voidMap;\n  this.parentStack = [];\n}\n\nHTMLParser.prototype.isVoid = function(element) {\n  return this.voidMap[element.nodeName] === true;\n};\n\nHTMLParser.prototype.pushElement = function(token) {\n  var el = this.document.createElement(token.tagName);\n\n  for (var i=0;i<token.attributes.length;i++) {\n    var attr = token.attributes[i];\n    el.setAttribute(attr[0], attr[1]);\n  }\n\n  if (this.isVoid(el)) {\n    return this.appendChild(el);\n  }\n\n  this.parentStack.push(el);\n};\n\nHTMLParser.prototype.popElement = function(token) {\n  var el = this.parentStack.pop();\n\n  if (el.nodeName !== token.tagName.toUpperCase()) {\n    throw new Error('unbalanced tag');\n  }\n\n  this.appendChild(el);\n};\n\nHTMLParser.prototype.appendText = function(token) {\n  var text = this.document.createTextNode(token.chars);\n  this.appendChild(text);\n};\n\nHTMLParser.prototype.appendComment = function(token) {\n  var comment = this.document.createComment(token.chars);\n  this.appendChild(comment);\n};\n\nHTMLParser.prototype.appendChild = function(node) {\n  var parentNode = this.parentStack[this.parentStack.length-1];\n  parentNode.appendChild(node);\n};\n\nHTMLParser.prototype.parse = function(html/*, context*/) {\n  // TODO use context for namespaceURI issues\n  var fragment = this.document.createDocumentFragment();\n  this.parentStack.push(fragment);\n\n  var tokens = this.tokenize(html);\n  for (var i=0, l=tokens.length; i<l; i++) {\n    var token = tokens[i];\n    switch (token.type) {\n      case 'StartTag':\n        this.pushElement(token);\n        break;\n      case 'EndTag':\n        this.popElement(token);\n        break;\n      case 'Chars':\n        this.appendText(token);\n        break;\n      case 'Comment':\n        this.appendComment(token);\n        break;\n    }\n  }\n\n  return this.parentStack.pop();\n};\n\nexport default HTMLParser;\n","function HTMLSerializer(voidMap) {\n  this.voidMap = voidMap;\n}\n\nHTMLSerializer.prototype.openTag = function(element) {\n  return '<' + element.nodeName.toLowerCase() + this.attributes(element.attributes) + '>';\n};\n\nHTMLSerializer.prototype.closeTag = function(element) {\n  return '</' + element.nodeName.toLowerCase() + '>';\n};\n\nHTMLSerializer.prototype.isVoid = function(element) {\n  return this.voidMap[element.nodeName] === true;\n};\n\nHTMLSerializer.prototype.attributes = function(namedNodeMap) {\n  var buffer = '';\n  for (var i=0, l=namedNodeMap.length; i<l; i++) {\n    buffer += this.attr(namedNodeMap[i]);\n  }\n  return buffer;\n};\n\nHTMLSerializer.prototype.escapeAttrValue = function(attrValue) {\n  return attrValue.replace(/[&\"]/g, function(match) {\n    switch(match) {\n      case '&':\n        return '&amp;';\n      case '\\\"':\n        return '&quot;';\n    }\n  });\n};\n\nHTMLSerializer.prototype.attr = function(attr) {\n  if (!attr.specified) {\n    return '';\n  }\n  if (attr.value) {\n    return ' ' + attr.name + '=\"' + this.escapeAttrValue(attr.value) + '\"';\n  }\n  return ' ' + attr.name;\n};\n\nHTMLSerializer.prototype.escapeText = function(textNodeValue) {\n  return textNodeValue.replace(/[&<>]/g, function(match) {\n    switch(match) {\n      case '&':\n        return '&amp;';\n      case '<':\n        return '&lt;';\n      case '>':\n        return '&gt;';\n    }\n  });\n};\n\nHTMLSerializer.prototype.text = function(text) {\n  return this.escapeText(text.nodeValue);\n};\n\nHTMLSerializer.prototype.rawHTMLSection = function(text) {\n  return text.nodeValue;\n};\n\nHTMLSerializer.prototype.comment = function(comment) {\n  return '<!--'+comment.nodeValue+'-->';\n};\n\nHTMLSerializer.prototype.serializeChildren = function(node) {\n  var buffer = '';\n  var next = node.firstChild;\n  if (next) {\n    buffer += this.serialize(next);\n\n    while(next = next.nextSibling) {\n      buffer += this.serialize(next);\n    }\n  }\n  return buffer;\n};\n\nHTMLSerializer.prototype.serialize = function(node) {\n  var buffer = '';\n\n  // open\n  switch (node.nodeType) {\n    case 1:\n      buffer += this.openTag(node);\n      break;\n    case 3:\n      buffer += this.text(node);\n      break;\n    case -1:\n      buffer += this.rawHTMLSection(node);\n      break;\n    case 8:\n      buffer += this.comment(node);\n      break;\n    default:\n      break;\n  }\n\n  buffer += this.serializeChildren(node);\n\n  if (node.nodeType === 1 && !this.isVoid(node)) {\n    buffer += this.closeTag(node);\n  }\n\n  return buffer;\n};\n\nexport default HTMLSerializer;\n","export default {\n  AREA: true,\n  BASE: true,\n  BR: true,\n  COL: true,\n  COMMAND: true,\n  EMBED: true,\n  HR: true,\n  IMG: true,\n  INPUT: true,\n  KEYGEN: true,\n  LINK: true,\n  META: true,\n  PARAM: true,\n  SOURCE: true,\n  TRACK: true,\n  WBR: true\n};"],"names":[],"mappings":"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"}